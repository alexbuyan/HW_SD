# Проект по SD (CLI)

## Навигация
TODO

## Общие обозначения диаграммы
TODO

## Описания классов
### GUI
Этот класс реализуют графический интерфейс командной строки
###### Cтруктура класса
```
GUI {
	parseManager: ParseManager() // логика работы CLI

	void run() // запускает GUI
	// метод в бесконечном режиме получает введенные
	// пользователем команды и передает их ParseManager
	// для разбора.

	void exit() // останавливает GUI
}
```

### ParseManager
Этот класс собирает в себе всю основную логику нашего приложения. Мы будем использовать следующую логику:
* Передаем ввод пользователя в Lexer
* Получаем из него список токенов (Token), который передаем в Parser
* По ним Parser проводит синтаксический анализ и строит дерево разбора (AST)
* AST передаем на вход Interpreter, который разбирается, как правильно выполнить команды
###### Cтруктура класса
```
ParseManager {
	lexer: Lexer()
	parser: Parser()
	interpreter: Interpreter()

	void executeCommand(String command)
	// прогоняет строчку, полученную из GUI, через наш алгоритм,
	// который выполнит команду
}
```

### Lexer
Этот класс отвечает за лексический анализ и по входной последовательности получает список токенов
###### Cтруктура класса
```
Lexer {
	List<Token> lex(String input)
	// метод, который проводит лексический анализ
}
```

### Token
Описывает правила, которые могут встретиться внутри ввода пользователя. По этим правилам наш парсер пытается построить дерево разбора
###### Cтруктура
```
// Примерная структура, возможно потребуется более четкое описание грамматики
enum Token {
	Arg: String
	Args: Arg | Arg + ' ' + Args
	Command: CommandName + ' ' + Args
	CommandName: String
}
```

### Parser
Этот класс занимается синтаксическим анализом и собственно строит дерево разбора
###### Cтруктура класса
```
Parser {
	void init(List<Token> tokens)
	// запоминает токены, полученные из лексера, 
	// для дальнейшей работы парсера

	CommandNode parse()
	// метод выполняет парсинг и возвращает полученное AST
}
```

### CommandNode
Эта сущность нужна для описания дерева разбора введенной пользователем команды
###### Cтруктура класса
```
TODO
```

### Interpreter
Парсер из введенной пользователем команды построил AST. По этому AST класс Interpreter выполняет саму команду 
###### Cтруктура класса
```
Interpreter {
	void executeCommand(CommandNode node)
}
```

### Command
Чтобы выполнять команды, интерпретатор должен знать логику их работы. Command - абстрактный класс, от которого наследуются реализации для наших конкретных комманд
###### Cтруктура класса
```
Command {
	name: String
	args: List<String>

	void execute()
	// наследники переопределяют этот метод и 
	// задают конкретную логику
}
```
###### Наследники Command
* CatCommand
* EchoCommand
* WcCommand
* PwdCommand
* ExitCommand

### *Exception
Классы для обработки специализированных исключений

###### Виды исключений
- UnexpectedTokenException - встретился токен, который парсер не ожидал
- UnknownCommand - неизвестная команда
- InvalidArgument - команде был передан неожиданный аргумент
- InvalidNumberOfArguments - команде было передано неправильное количество аргументов